import{T as P,k as $,s as C,l as D,m as n,o as m,f as h,a as e,u as q,w as a,F as x,Z as S,b as t,p as k,t as d,d as p,Q as b,q as F,c as w}from"./app-DN-RUE--.js";import{_ as M}from"./BasicLayout-CC9BFqav.js";import{_ as U}from"./TextInput-C245VMaA.js";import{P as I}from"./PrimaryButton-CyOW_sER.js";import{_ as E}from"./Address-ryR6SPQX.js";import"./ApplicationLogo-CICgJVQf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"py-12"},O={class:"max-w-7xl mx-auto px-6 lg:px-8 space-y-5"},Q=t("h1",{class:"font-bold text-lg text-uppercase"},"Pemesanan",-1),Z=t("h2",{class:"font-semibold text-md"},"Lokasi Penerima",-1),z=t("h2",{class:"font-semibold text-md"},"Detail Pesanan",-1),A={class:"space-y-6"},G={class:"w-full justify-between flex items-center"},H={class:"text-sm"},J={class:"flex sm:flex-row flex-col items-center sm:justify-between"},W={class:"flex items-center"},X={class:"ml-4"},Y={class:"flex items-center space-x-5"},tt=t("h1",{class:"font-bold"},"Total:",-1),et={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},st=t("h2",{class:"font-semibold text-md"}," Merasa Terbantu? Kirim donasi untuk layanan kami ",-1),at=t("h2",{class:"font-semibold text-md"},"Detail Pembayaran",-1),ot={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg grid grid-cols-2 gap-2 items-center"},nt=t("p",null,"Subtotal",-1),lt={class:"text-right"},dt=t("p",null,"Donasi",-1),it={class:"text-right"},ct=t("p",{class:"font-bold"},"Total",-1),rt={class:"text-right font-bold"},xt={__name:"Index",props:{canLogin:{type:Boolean},canRegister:{type:Boolean},data:{type:Object}},setup(i){P({is_active:!1,name:"",phone:"",address:"",subdistrict:"",district:"",city:"",province:"",latitude:"",longitude:"",gmaps_point:"",notes:""});const c=$({edit:!1,checkout:!1}),B=()=>{console.log(b().props.data);const l={products:b().props.data.products.map(s=>({store:{id:s.store.id},total:s.total,products:s.products.map(r=>({id:r.id,title:r.title,quantity:r.quantity,price:r.price}))})),address:b().props.data.address,donate:u.value};F.post(`${route().t.url}/order/add`,l).then(function(s){c.checkout=!0}).catch(function(s){})},u=C(null),_=l=>l!=null&&l>0?(l=Math.round(l),l.toLocaleString("id-ID")):0;return D(()=>{}),(l,s)=>{const r=n("v-card-title"),V=n("v-card-item"),f=n("v-divider"),R=n("v-list-item"),L=n("v-list"),T=n("v-card-text"),j=n("v-card-actions"),N=n("v-card"),g=n("v-btn"),y=n("v-snackbar");return m(),h(x,null,[e(q(S),{title:"Setiap Bagian Berharga"}),e(M,{canLogin:i.canLogin,canRegister:i.canRegister},{default:a(()=>[t("div",K,[t("div",O,[Q,Z,e(E,{address:i.data.address.address,name:i.data.address.name},null,8,["address","name"]),z,t("div",A,[(m(!0),h(x,null,k(i.data.products,o=>(m(),w(N,{class:"w-full py-2"},{default:a(()=>[e(V,null,{default:a(()=>[e(r,null,{default:a(()=>[t("div",G,[t("p",null,d(o.store.name),1),t("p",H,d(o.store.province),1)])]),_:2},1024)]),_:2},1024),e(f),e(T,null,{default:a(()=>[e(L,{lines:"two"},{default:a(()=>[(m(!0),h(x,null,k(o.products,v=>(m(),w(R,{rounded:"0",class:"items-center"},{title:a(()=>[t("div",J,[t("div",W,[t("p",X,d(v.title),1)]),t("div",Y,[t("p",null," Rp "+d(_(v.price)),1),t("p",null,"x "+d(v.quantity),1)])])]),_:2},1024))),256)),e(f,{inset:""})]),_:2},1024)]),_:2},1024),e(f),e(j,{class:"flex justify-end space-x-5 px-8"},{default:a(()=>[tt,t("p",null,"Rp "+d(_(o.total.all)),1)]),_:2},1024)]),_:2},1024))),256)),t("div",et,[st,e(U,{class:"w-full",modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=o=>u.value=o)},null,8,["modelValue"])]),at,t("div",ot,[nt,t("p",lt," Rp "+d(_(i.data.total.products)),1),dt,t("p",it,"Rp "+d(_(u.value)),1),ct,t("p",rt," Rp "+d(_(Number(i.data.total.all)+Number(u.value))),1)]),e(I,{onClick:B,class:"w-full py-3 flex justify-center items-center"},{default:a(()=>[p(" Bayar sekarang ")]),_:1})])])])]),_:1},8,["canLogin","canRegister"]),e(y,{modelValue:c.edit,"onUpdate:modelValue":s[2]||(s[2]=o=>c.edit=o)},{actions:a(()=>[e(g,{color:"pink",variant:"text",onClick:s[1]||(s[1]=o=>c.edit=!1)},{default:a(()=>[p(" Tutup ")]),_:1})]),default:a(()=>[p(" Berhasil mengubah jumlah ")]),_:1},8,["modelValue"]),e(y,{modelValue:c.checkout,"onUpdate:modelValue":s[4]||(s[4]=o=>c.checkout=o)},{actions:a(()=>[e(g,{color:"pink",variant:"text",onClick:s[3]||(s[3]=o=>c.edit=!1)},{default:a(()=>[p(" Tutup ")]),_:1})]),default:a(()=>[p(" Berhasil checkout ")]),_:1},8,["modelValue"])],64)}}};export{xt as default};
