import{s as k,T as M,m as r,o as x,f as C,a as e,u as l,w as s,F as B,Z as O,b as n,e as E,x as U,d as f,p as A,n as H,O as K,c as Z}from"./app-DN-RUE--.js";import{_ as G}from"./BasicLayout-CC9BFqav.js";import{_ as p}from"./TextInput-C245VMaA.js";import{_ as u,a as c}from"./InputLabel-BWPeqGtR.js";import{P as J}from"./PrimaryButton-CyOW_sER.js";import{_ as L}from"./Toggle-CB4Xez9i.js";import"./ApplicationLogo-CICgJVQf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Q=n("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Produk Baru",-1),W={class:"py-12"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Y={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},ce={__name:"Create",props:{canLogin:{type:Boolean},canRegister:{type:Boolean},data:{type:Object}},setup(y){const d=k([]),_=k(!1),v=k(null),t=M({title:"",description:"",stock:1,is_new:!0,is_food:!1,price:0,expired_at:null,media:[]}),$=()=>{K.post("/mystore/product/create",t),t.reset()},D=function(i){i=new Date(i);const a={day:"numeric",month:"numeric",year:"numeric"};return i.toLocaleDateString([],a)},P=()=>{v.value&&v.value.click()},R=i=>{for(const a of i.target.files){const m=new FileReader;m.onload=g=>{d.value.push({url:g.target.result,file:a}),t.media=d},m.readAsDataURL(a)}},j=i=>{d.value.splice(i,1),t.images=d};return(i,a)=>{const m=r("v-btn"),g=r("v-date-picker"),F=r("v-menu"),I=r("v-img"),w=r("v-icon"),N=r("v-overlay"),b=r("v-card"),S=r("v-hover"),V=r("v-col"),T=r("v-row");return x(),C(B,null,[e(l(O),{title:"Setiap Bagian Berharga"}),e(G,{canLogin:y.canLogin,canRegister:y.canRegister},{header:s(()=>[Q]),default:s(()=>[n("div",W,[n("div",X,[n("div",Y,[n("div",null,[n("form",{onSubmit:E($,["prevent"]),class:"mt-6 space-y-6"},[n("div",null,[e(u,{for:"title",value:"Nama"}),e(p,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:l(t).title,"onUpdate:modelValue":a[0]||(a[0]=o=>l(t).title=o),required:"",autofocus:"",autocomplete:"title"},null,8,["modelValue"]),e(c,{class:"mt-2",message:l(t).errors.title},null,8,["message"])]),n("div",null,[e(u,{for:"description",value:"Deskripsi"}),e(p,{id:"description",type:"text",class:"mt-1 block w-full",modelValue:l(t).description,"onUpdate:modelValue":a[1]||(a[1]=o=>l(t).description=o),autocomplete:"description"},null,8,["modelValue"]),e(c,{class:"mt-2",message:l(t).errors.description},null,8,["message"])]),n("div",null,[e(u,{for:"stock",value:"Stok"}),e(p,{id:"stock",type:"text",class:"mt-1 block w-full",modelValue:l(t).stock,"onUpdate:modelValue":a[2]||(a[2]=o=>l(t).stock=o),required:"",autocomplete:"stock"},null,8,["modelValue"]),e(c,{class:"mt-2",message:l(t).errors.stock},null,8,["message"])]),n("div",null,[e(u,{for:"price",value:"Harga"}),e(p,{id:"price",type:"text",class:"mt-1 block w-full",modelValue:l(t).price,"onUpdate:modelValue":a[3]||(a[3]=o=>l(t).price=o),required:"",autocomplete:"price"},null,8,["modelValue"]),e(c,{class:"mt-2",message:l(t).errors.price},null,8,["message"])]),n("div",null,[e(u,{for:"expired_at",value:"Tanggal kadaluarsa"}),e(F,{modelValue:_.value,"onUpdate:modelValue":a[6]||(a[6]=o=>_.value=o),"close-on-content-click":!1},{activator:s(({props:o})=>[e(p,U({class:"mt-1 block w-full"},o,{id:"expired_at",type:"text",value:l(t).expired_at?D(l(t).expired_at):"",readonly:""}),null,16,["value"])]),default:s(()=>[e(g,{"show-adjacent-months":"","no-title":"",scrollable:"",modelValue:l(t).expired_at,"onUpdate:modelValue":a[5]||(a[5]=o=>l(t).expired_at=o)},{actions:s(()=>[e(m,{text:"",color:"green-lighten-2",onClick:a[4]||(a[4]=o=>_.value=!1)},{default:s(()=>[f(" Close ")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),e(c,{class:"mt-2",message:l(t).errors.expired_at},null,8,["message"])]),n("div",null,[e(L,{checked:l(t).is_new,"onUpdate:checked":a[7]||(a[7]=o=>l(t).is_new=o),label:"Kondisi baru"},null,8,["checked"]),e(c,{class:"mt-2",message:l(t).errors.is_new},null,8,["message"])]),n("div",null,[e(L,{checked:l(t).is_food,"onUpdate:checked":a[8]||(a[8]=o=>l(t).is_food=o),label:"Makanan"},null,8,["checked"]),e(c,{class:"mt-2",message:l(t).errors.is_food},null,8,["message"])]),n("div",null,[e(u,{for:"media",value:"Media"}),n("input",{type:"file",accept:"image/*",multiple:"",onChange:R,ref_key:"fileInput",ref:v,style:{display:"none"},name:"media"},null,544),e(T,null,{default:s(()=>[(x(!0),C(B,null,A(d.value,(o,h)=>(x(),Z(V,{key:h,cols:"4"},{default:s(()=>[e(S,null,{default:s(({isHovering:q,props:z})=>[e(b,U({ref_for:!0},z,{class:"preview-upload"}),{default:s(()=>[e(I,{src:o.url,contain:"",height:"150"},null,8,["src"]),e(N,{"model-value":q,contained:"",scrim:"#036358",class:"align-center justify-center"},{default:s(()=>[e(m,{onClick:ee=>j(h),icon:"",variant:"text"},{default:s(()=>[e(w,{size:"large",color:"red"},{default:s(()=>[f("mdi-trash-can")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["model-value"])]),_:2},1040)]),_:2},1024)]),_:2},1024))),128)),e(V,{cols:"4"},{default:s(()=>[e(b,{onClick:P,class:"button-upload d-flex items-center justify-center"},{default:s(()=>[e(w,{size:"48",class:""},{default:s(()=>[f("mdi-plus")]),_:1})]),_:1})]),_:1})]),_:1}),e(c,{class:"mt-2",message:l(t).errors.media},null,8,["message"])]),e(J,{class:H(["ms-4 col-span-2 text-center justify-center flex",{"opacity-25":l(t).processing}]),disabled:l(t).processing},{default:s(()=>[f(" Tambah Produk ")]),_:1},8,["class","disabled"])],32)])])])])]),_:1},8,["canLogin","canRegister"])],64)}}};export{ce as default};
